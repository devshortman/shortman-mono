# ğŸ“¦ ShortMan ëª¨ë…¸ë ˆí¬ ì½”ë“œ íŒŒì¼

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
code/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ simple_crawler.py       # ì§€ì—­ë³„ í¬ë¡¤ëŸ¬ (36ê°œ ìˆ˜ì§‘)
â”‚   â””â”€â”€ main.py                 # FastAPI ì„œë²„ (CORS + API ì—”ë“œí¬ì¸íŠ¸)
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ home_new.tsx           # API ì—°ë™ í™ˆ í˜ì´ì§€
â”‚   â”œâ”€â”€ home_style.css         # 6x2 ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ìŠ¤íƒ€ì¼
â”‚   â”œâ”€â”€ short-card.tsx         # ë™ì  ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ card_style.css         # ì¹´ë“œ ë°˜ì‘í˜• ìŠ¤íƒ€ì¼
â””â”€â”€ sql/
    â””â”€â”€ 12_tables.simple_shorts.sql  # DB í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ
```

---

## ğŸ”§ íŒŒì¼ ì ìš© ë°©ë²•

### 1. ë°±ì—”ë“œ íŒŒì¼

#### `simple_crawler.py`
```bash
ìœ„ì¹˜: backend/backend/simple_crawler.py
ì—­í• : ì§€ì—­ë³„(í•œêµ­/í•´ì™¸/ì¤‘êµ­) Shorts í¬ë¡¤ëŸ¬

ì‹¤í–‰:
cd backend/backend
python simple_crawler.py
```

#### `main.py`
```bash
ìœ„ì¹˜: backend/backend/app/main.py
ì—­í• : FastAPI ì„œë²„ (ê¸°ì¡´ íŒŒì¼ ë®ì–´ì“°ê¸°)

ì ìš©:
1. ê¸°ì¡´ íŒŒì¼ ë°±ì—…
   mv backend/backend/app/main.py backend/backend/app/main_backup.py

2. ìƒˆ íŒŒì¼ë¡œ êµì²´
   cp code/backend/main.py backend/backend/app/main.py

3. ì„œë²„ ì¬ì‹œì‘
   uvicorn backend.backend.app.main:app --reload
```

---

### 2. SQL íŒŒì¼

#### `12_tables.simple_shorts.sql`
```bash
ìœ„ì¹˜: backend/supabase/12_tables.simple_shorts.sql
ì—­í• : shorts_items í…Œì´ë¸” ìƒì„±

ì ìš©:
1. Supabase Dashboard ì ‘ì†
2. SQL Editor ì—´ê¸°
3. íŒŒì¼ ë‚´ìš© ë³µì‚¬ & ë¶™ì—¬ë„£ê¸°
4. Run ë²„íŠ¼ í´ë¦­
```

---

### 3. í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼

#### `home_new.tsx`
```bash
ìœ„ì¹˜: frontend/src/route/home/home.tsx
ì—­í• : API ì—°ë™ í™ˆ í˜ì´ì§€ (ê¸°ì¡´ íŒŒì¼ êµì²´)

ì ìš©:
1. ê¸°ì¡´ íŒŒì¼ ë°±ì—…
   cd frontend/src/route/home
   mv home.tsx home_old.tsx

2. ìƒˆ íŒŒì¼ë¡œ êµì²´
   cp code/frontend/home_new.tsx home.tsx

ì¤‘ìš”: API URL í™•ì¸ (22ë²ˆì§¸ ì¤„)
- ë¡œì»¬: http://localhost:8000/api/v1/shorts/regional
- ë°°í¬: https://your-backend.onrender.com/api/v1/shorts/regional
```

#### `home_style.css`
```bash
ìœ„ì¹˜: frontend/src/route/home/style.css
ì—­í• : 6x2 ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ìŠ¤íƒ€ì¼ (ê¸°ì¡´ íŒŒì¼ ë®ì–´ì“°ê¸°)

ì ìš©:
cp code/frontend/home_style.css frontend/src/route/home/style.css
```

#### `short-card.tsx`
```bash
ìœ„ì¹˜: frontend/src/component/short-card/short-card.tsx
ì—­í• : ë™ì  ë°ì´í„° ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ (ê¸°ì¡´ íŒŒì¼ ë®ì–´ì“°ê¸°)

ì ìš©:
cp code/frontend/short-card.tsx frontend/src/component/short-card/short-card.tsx
```

#### `card_style.css`
```bash
ìœ„ì¹˜: frontend/src/component/short-card/style.css
ì—­í• : ì¹´ë“œ ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ (ê¸°ì¡´ íŒŒì¼ ë®ì–´ì“°ê¸°)

ì ìš©:
cp code/frontend/card_style.css frontend/src/component/short-card/style.css
```

---

## âš¡ ë¹ ë¥¸ ì ìš© ìŠ¤í¬ë¦½íŠ¸

### ë°±ì—”ë“œ
```bash
#!/bin/bash
# ë°±ì—”ë“œ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰

# 1. í¬ë¡¤ëŸ¬ ì¶”ê°€
cp code/backend/simple_crawler.py backend/backend/

# 2. API ì„œë²„ ì—…ë°ì´íŠ¸
mv backend/backend/app/main.py backend/backend/app/main_backup.py
cp code/backend/main.py backend/backend/app/

# 3. í™˜ê²½ ë³€ìˆ˜ í™•ì¸
cat backend/backend/.env

# 4. í¬ë¡¤ëŸ¬ ì‹¤í–‰
cd backend/backend
python simple_crawler.py

# 5. ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload
```

### í”„ë¡ íŠ¸ì—”ë“œ
```bash
#!/bin/bash
# í”„ë¡ íŠ¸ì—”ë“œ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰

# 1. í™ˆ í˜ì´ì§€ ì—…ë°ì´íŠ¸
mv src/route/home/home.tsx src/route/home/home_old.tsx
cp code/frontend/home_new.tsx src/route/home/home.tsx
cp code/frontend/home_style.css src/route/home/style.css

# 2. ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸
cp code/frontend/short-card.tsx src/component/short-card/short-card.tsx
cp code/frontend/card_style.css src/component/short-card/style.css

# 3. ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë°±ì—”ë“œ
- [ ] DB í…Œì´ë¸” ìƒì„± (SQL íŒŒì¼ ì‹¤í–‰)
- [ ] .env íŒŒì¼ ì„¤ì • (SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY)
- [ ] simple_crawler.py ì¶”ê°€
- [ ] main.py ì—…ë°ì´íŠ¸
- [ ] í¬ë¡¤ëŸ¬ ì‹¤í–‰ â†’ 36ê°œ ë°ì´í„° ìƒì„±
- [ ] API ì„œë²„ ì‹¤í–‰ â†’ http://localhost:8000/docs í™•ì¸

### í”„ë¡ íŠ¸ì—”ë“œ
- [ ] home.tsx êµì²´
- [ ] home_style.css ì—…ë°ì´íŠ¸
- [ ] short-card.tsx ì—…ë°ì´íŠ¸
- [ ] card_style.css ì—…ë°ì´íŠ¸
- [ ] API URL í™•ì¸ (ë¡œì»¬ vs ë°°í¬)
- [ ] ê°œë°œ ì„œë²„ ì‹¤í–‰ â†’ http://localhost:5173 í™•ì¸

### ë™ì‘ í™•ì¸
- [ ] ë°°ë„ˆ ì•„ë˜ 3ê°œ ì„¹ì…˜ ì¶œë ¥ (í•œêµ­/í•´ì™¸/ì¤‘êµ­)
- [ ] ê° ì„¹ì…˜ë‹¹ 12ê°œ ì¹´ë“œ ì¶œë ¥ (ì´ 36ê°œ)
- [ ] ë°˜ì‘í˜• ë™ì‘ í™•ì¸ (6ì—´â†’3ì—´â†’2ì—´â†’1ì—´)
- [ ] ì¹´ë“œ í´ë¦­ ì‹œ ì›ë³¸ í˜ì´ì§€ ì´ë™
- [ ] í”Œë«í¼ ì•„ì´ì½˜ í‘œì‹œ (Instagram/YouTube/TikTok)

---

## ğŸ¯ ì£¼ìš” ë³€ê²½ì‚¬í•­

### Backend (main.py)
- âœ¨ CORS ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€
- âœ¨ `/api/v1/shorts/regional` ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
- âœ¨ `/api/v1/shorts` ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
- âœ¨ ShortsItem, ShortsResponse ëª¨ë¸ ì¶”ê°€

### Frontend (home.tsx)
- âœ¨ API í˜¸ì¶œë¡œ ì‹¤ì œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
- âœ¨ ì§€ì—­ë³„ ì„¹ì…˜ ë™ì  ë Œë”ë§
- âœ¨ ë¡œë”©/ì—ëŸ¬ ìƒíƒœ ì²˜ë¦¬
- âŒ í•˜ë“œì½”ë”© ë°ì´í„° ì œê±°

### CSS
- âœ¨ 6x2 ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ
- âœ¨ ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸ (1200px, 768px, 480px)
- âœ¨ ì¹´ë“œ í˜¸ë²„ íš¨ê³¼
- âœ¨ í”Œë«í¼ ë±ƒì§€ ìŠ¤íƒ€ì¼

---

## ğŸ“Š API ì—”ë“œí¬ì¸íŠ¸

### ì§€ì—­ë³„ ì¡°íšŒ
```http
GET /api/v1/shorts/regional?limit_per_region=12

Response:
{
  "korea": [12ê°œ ë°°ì—´],
  "global_": [12ê°œ ë°°ì—´],
  "china": [12ê°œ ë°°ì—´],
  "total_count": 36
}
```

### ì „ì²´ ì¡°íšŒ
```http
GET /api/v1/shorts?limit=36&region=korea&platform=instagram

Parameters:
- limit: ê°€ì ¸ì˜¬ ê°œìˆ˜ (ê¸°ë³¸ 36)
- region: ì§€ì—­ í•„í„° (korea, global, china)
- platform: í”Œë«í¼ í•„í„° (instagram, youtube, tiktok)
```

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### "Module not found" ì˜¤ë¥˜
```
í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì´ë¯¸ì§€ import ì˜¤ë¥˜ ë°œìƒ ì‹œ
```
**í•´ê²°:** assets í´ë”ì— í”Œë«í¼ ì•„ì´ì½˜ í™•ì¸
- insta.svg
- youtube.svg
- tiktok.svg

### API ì—°ê²° ì‹¤íŒ¨
```
CORS policy blocked ë˜ëŠ” Failed to fetch
```
**í•´ê²°:**
1. ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰ í™•ì¸
2. CORS ì„¤ì • í™•ì¸ (main.py)
3. í”„ë¡ íŠ¸ì—”ë“œ API URL í™•ì¸

### ë°ì´í„°ê°€ ì•ˆ ë³´ì„
```
"ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. í¬ë¡¤ëŸ¬ë¥¼ ì‹¤í–‰í•´ì£¼ì„¸ìš”!"
```
**í•´ê²°:**
```bash
cd backend/backend
python simple_crawler.py
```

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

1. **GitHub Actions ì¶”ê°€** - í•˜ë£¨ 1íšŒ ìë™ í¬ë¡¤ë§
2. **ì‹¤ì œ API ì—°ë™** - YouTube Data API v3, Instagram API
3. **ë°°í¬** - Render (ë°±ì—”ë“œ), GitHub Pages (í”„ë¡ íŠ¸ì—”ë“œ)

---

**ëª¨ë“  íŒŒì¼ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤!** ğŸ‰

ìœ„ ê°€ì´ë“œëŒ€ë¡œ ì ìš©í•˜ì‹œë©´ ë°”ë¡œ ë™ì‘í•©ë‹ˆë‹¤!
